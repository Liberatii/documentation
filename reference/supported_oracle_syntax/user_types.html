

<!DOCTYPE html>


<html lang="en" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>User Types &#8212; Liberatii Gateway</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/supported_oracle_syntax/user_types';</script>
    <link rel="shortcut icon" href="../../_static/dark-theme-logo.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Parameter bindings" href="parameter_bindings.html" />
    <link rel="prev" title="Objects accessing" href="objects_accessing.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search docs..."
         aria-label="Search docs..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
    
    <img src="../../_static/light-theme-logo.svg" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="../../_static/light-theme-logo.svg" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">Liberatii Docs</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search docs..."
         aria-label="Search docs..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item"><!--This will display the content on the right side of the navbar.-->
<!--
<a class="link-1 link-nounderline" href="#">Visit Website</a>
<a class="btn link-2 link-nounderline" href="#" role="button">Schedule a demo</a>
--></div>
      
    </div>
    
  </div>
  
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search docs..."
         aria-label="Search docs..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><!--This will display the content on the right side of the navbar.-->
<!--
<a class="link-1 link-nounderline" href="#">Visit Website</a>
<a class="btn link-2 link-nounderline" href="#" role="button">Schedule a demo</a>
--></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links">
<!--  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>-->
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../concepts/index.html">Concepts</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/what_is_liberatii.html">What is Liberatii Data Platform?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/migration_journey.html">Migration journey with Liberatii</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/software_architecture.html">Software Architecture</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../pre_migration/index.html">Pre-migration</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pre_migration/assessment/index.html">Technical Assessment</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../migration/index.html">Migration</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../migration/azure/index.html">Azure Deployment</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../migration/database_migration/index.html">Database Migration</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../migration/database_migration/configuration.html">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/database_migration/initialization.html">Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/database_migration/schema_migration.html">Schema migration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/database_migration/data_migration.html">Data migration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/database_migration/verification.html">Verification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/database_migration/synchronising_databases.html">Synchronising Databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/database_migration/testing.html">Testing</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../migration/running_sql_statements/index.html">Running SQL Statements</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../migration/running_sql_statements/applications.html">Applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/running_sql_statements/ides.html">IDEs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/running_sql_statements/using_psql.html">Using psql</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../post_migration/index.html">Post-migration</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../post_migration/monitoring.html">Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../post_migration/manual_translation_table.html">Manual translation table</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../post_migration/tuning.html">Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../post_migration/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../supported_systems.html">Supported databases and client applications</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../database_connector/index.html">Liberatii database connector</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../database_connector/jdbc.html">JDBC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database_connector/odbc.html">ODBC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database_connector/oci.html">OCI</a></li>
</ul>
</li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="index.html">Supported Oracle SQL and PL/SQL Syntax</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="type_mapping.html">Type Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="pl_sql.html">PL/SQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="string_literals.html">String literals</a></li>
<li class="toctree-l3"><a class="reference internal" href="sql_aliases.html">SQL Aliases</a></li>
<li class="toctree-l3"><a class="reference internal" href="pl_sql_block.html">Plsql Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="objects_accessing.html">Objects accessing</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">User Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="parameter_bindings.html">Parameter bindings</a></li>
<li class="toctree-l3"><a class="reference internal" href="packages.html">Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="sql.html">SQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="cursors.html">CURSORS</a></li>
<li class="toctree-l3"><a class="reference internal" href="triggers.html">TRIGGERS</a></li>
<li class="toctree-l3"><a class="reference internal" href="synonyms.html">SYNONYMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="autonomous_transactions.html">Autonomous transactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="hierarchical_queries.html">Hierarchical queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="bulk_collect_into.html">BULK COLLECT INTO</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gateway_configuration.html">Gateway configuration</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        Liberatii Docs
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Supported Oracle SQL and PL/SQL Syntax</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">User Types</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main"><p class="last-updated">
  Updated November, 06 2023
  <br/>
</p>
                  
  <section id="user-types">
<span id="id1"></span><h1>User Types<a class="headerlink" href="#user-types" title="Permalink to this heading">#</a></h1>
<section id="declaring">
<h2><strong>Declaring</strong><a class="headerlink" href="#declaring" title="Permalink to this heading">#</a></h2>
<p>For declaring a variable of user type, we use the prefix <code class="docutils literal notranslate"><span class="pre">LBR$UT$</span></code> for any user type and join all parts of a name with <code class="docutils literal notranslate"><span class="pre">$</span></code> for the complex names.  Also, for variables of user types without initialization, we insert explicit initialization with a function call with the default constructor function.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">DECLARE</span>
<span class="linenos">2</span><span class="w">  </span><span class="n">default_week</span><span class="w"> </span><span class="n">pack</span><span class="p">.</span><span class="n">rectype</span><span class="p">;</span>
<span class="linenos">3</span><span class="w">  </span><span class="n">default_week2</span><span class="w"> </span><span class="n">global_col_type</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">global_col_type</span><span class="p">(</span><span class="n">N</span><span class="s1">&#39;MoMo&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;TEST&#39;</span><span class="p">);</span>
<span class="linenos">4</span><span class="k">BEGIN</span>
<span class="linenos">5</span><span class="w">  </span><span class="k">NULL</span><span class="p">;</span>
<span class="linenos">6</span><span class="k">END</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="in-package">
<h2><strong>In package</strong><a class="headerlink" href="#in-package" title="Permalink to this heading">#</a></h2>
<p>For the type in a package, we change the name of the type to a <code class="docutils literal notranslate"><span class="pre">&lt;package_id&gt;$&lt;type_id&gt;</span></code> and
create the same functions as for local except we change the name of the constructor function to a <code class="docutils literal notranslate"><span class="pre">lbr$m$&lt;package_id&gt;$&lt;type_id&gt;</span></code>. This is
because of the translation of accessors <code class="docutils literal notranslate"><span class="pre">DECLARE</span> <span class="pre">V</span> <span class="pre">P1.Rec</span> <span class="pre">=</span> <span class="pre">P1.Rec();</span></code> will become <code class="docutils literal notranslate"><span class="pre">DECLARE</span> <span class="pre">V</span> <span class="pre">P1$Rec</span> <span class="pre">=</span> <span class="pre">lbr$m$P1$Rec();</span></code></p>
</section>
<section id="records">
<h2><strong>Records</strong><a class="headerlink" href="#records" title="Permalink to this heading">#</a></h2>
<p>We replace the record type declaration with a <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TYPE</span></code>. We change the name to join its parts with the <code class="docutils literal notranslate"><span class="pre">$</span></code> symbol and add the prefix <code class="docutils literal notranslate"><span class="pre">LBR$UT$</span></code>. In addition, we create:</p>
<p><strong>1.</strong> Setter and getters for each field of records.</p>
<p><strong>2.</strong> Constructor function with a type name without a prefix that creates a certain type. Fields are initialized here with default values.</p>
<p><strong>3.</strong> Default constructor function with <code class="docutils literal notranslate"><span class="pre">$DEF</span></code> at the end of the name. The default constructor calls the regular constructor.</p>
<p><strong>Anonymous block</strong></p>
<p>Create a type and function it in the <code class="docutils literal notranslate"><span class="pre">PG_TEMP</span></code> schema. Also, constructors, setters, and getters should be called from <code class="docutils literal notranslate"><span class="pre">PG_TEMP</span></code> schema. After the anonymous block, we should drop the type with the <code class="docutils literal notranslate"><span class="pre">CASCADE</span></code> option. The construction function should have parameters corresponding to the records attribute to transfer default values.</p>
<p><cite>Example</cite></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">DECLARE</span>
<span class="linenos"> 2</span><span class="w">  </span><span class="n">T</span><span class="w"> </span><span class="nb">NUMBER</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="w">  </span><span class="k">TYPE</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="n">RECORD</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="nb">NUMBER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w">  </span><span class="n">b</span><span class="w"> </span><span class="nb">NUMBER</span><span class="w"> </span><span class="p">);</span>
<span class="linenos"> 4</span><span class="w">  </span><span class="n">V1</span><span class="w"> </span><span class="n">R1</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">R1</span><span class="p">();</span>
<span class="linenos"> 5</span><span class="k">BEGIN</span>
<span class="linenos"> 6</span><span class="w">  </span><span class="n">DBMS_OUTPUT</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;V1.a - &#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">V1</span><span class="p">.</span><span class="n">a</span><span class="p">);</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="n">T</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="k">DECLARE</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="n">V2</span><span class="w"> </span><span class="n">R1</span><span class="p">;</span>
<span class="linenos">10</span><span class="w">  </span><span class="k">BEGIN</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">DBMS_OUTPUT</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;V2.a - &#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">V2</span><span class="p">.</span><span class="n">a</span><span class="p">);</span>
<span class="linenos">12</span><span class="w">  </span><span class="k">END</span><span class="p">;</span>
<span class="linenos">13</span><span class="k">END</span><span class="p">;</span>
</pre></div>
</div>
<p>Not yet implemented:</p>
<p><strong>1.</strong> NOT NULL attribute constraints.</p>
<p><strong>2.</strong> Issues with default values and NULL values. Oracle doesn’t treat NULL literal as the default value.</p>
</section>
<section id="collections">
<h2><strong>Collections</strong><a class="headerlink" href="#collections" title="Permalink to this heading">#</a></h2>
<p>We change the name to join its parts with the <code class="docutils literal notranslate"><span class="pre">$</span></code> symbol and add the <code class="docutils literal notranslate"><span class="pre">lbr$ut</span></code>  prefix.</p>
<p><strong>Associative collection</strong></p>
<p>When working with associative arrays, we need to create an object with two PG arrays. One is for indexes, another is for values, for example:</p>
<p>Since in Oracle, an associative array is created immediately with a variable (cannot be NULL) we need to check if it is NULL and create one if needed.</p>
<p>After this is the FIRST method of an associative array:</p>
<p>Because PG has very limited support for types polymorphism, we need to generate the methods for each collection declaration. In the future, we can optimize this to generate only one method of key/value type combination. If the corresponding pair doesn’t exist, we generate another one and global. But for now, it is enough to generate each method for each collection type constructor.</p>
<p>As associative arrays are always ordered, we should order them manually in the setter.</p>
<p><strong>In package</strong></p>
<p>For the collection in a package, we change the name of the type to a <code class="docutils literal notranslate"><span class="pre">&lt;package_name&gt;$&lt;collection_name&gt;</span></code>  and create the same functions as for local, except we change the name of the constructor function to a <code class="docutils literal notranslate"><span class="pre">lbr$m$&lt;package_name&gt;$&lt;record_name&gt;</span></code>.</p>
<p>For each package variable of collection type, we create an additional setter and getter. For example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="n">PACKAGE</span><span class="w"> </span><span class="n">P1</span><span class="w"> </span><span class="k">IS</span>
<span class="linenos">2</span><span class="w">  </span><span class="c1">-- Associative array indexed by string:</span>
<span class="linenos">3</span><span class="w">  </span><span class="k">TYPE</span><span class="w"> </span><span class="n">population</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">OF</span><span class="w"> </span><span class="nb">NUMBER</span><span class="w"> </span><span class="c1">-- Associative array type</span>
<span class="linenos">4</span><span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">64</span><span class="p">);</span><span class="w">           </span><span class="c1">-- indexed by string</span>
<span class="linenos">5</span>
<span class="linenos">6</span><span class="w">  </span><span class="n">city_population</span><span class="w"> </span><span class="n">population</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Associative array variable</span>
<span class="linenos">7</span><span class="k">END</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>Nested tables and Varrays</strong></p>
<p>We convert Nested tables and Varrays to a Postgres Type as well. For VARRAY, we store max length in addition to values.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">TYPE</span><span class="w"> </span><span class="n">Foursome</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="n">VARRAY</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">OF</span><span class="w"> </span><span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
</pre></div>
</div>
<p>For NESTED TABLE, we store placeholders for deleted elements(the ORACLE <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> method of the nested table just marks elements rather than deletes them).</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">TYPE</span><span class="w"> </span><span class="n">Roster</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">OF</span><span class="w"> </span><span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>FORALL loop</strong></p>
<p>We emulate the FORALL loop with extended DML that is used inside of it. In extended DML, we use subquery over bounds that are specified in FORALL bounds clause.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">forall</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">prodList</span><span class="p">.</span><span class="k">first</span><span class="p">..</span><span class="n">prodList</span><span class="p">.</span><span class="k">last</span>
<span class="linenos">2</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">EMP</span>
<span class="linenos">3</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">ENAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;UP&#39;</span><span class="o">||</span><span class="s1">&#39;DATED&#39;</span>
<span class="linenos">4</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">EMPNO</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">prodList</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">forall</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">prodList</span><span class="p">.</span><span class="k">first</span><span class="p">..</span><span class="n">prodList</span><span class="p">.</span><span class="k">last</span>
<span class="linenos">2</span><span class="w">  </span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">EMPNO</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">prodList</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">forall</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">prodList</span><span class="p">.</span><span class="k">first</span><span class="p">..</span><span class="n">prodList</span><span class="p">.</span><span class="k">last</span>
<span class="linenos">2</span><span class="w">  </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span><span class="n">ENAME</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="n">prodList</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="s1">&#39;INSERTED&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Not yet implemented</strong></p>
<p><strong>1.</strong> Multiset conditions ().</p>
<p><strong>2.</strong> Calling methods that modify arrays for multidimensional arrays (DELETE, EXTEND).</p>
<p><strong>3.</strong> Array comparison. (Two nested table variables are equal if and only if they have the same set of elements (no ordering)).</p>
</section>
<section id="objects">
<h2><strong>Objects</strong><a class="headerlink" href="#objects" title="Permalink to this heading">#</a></h2>
<p><cite>Fields</cite>:
Fields of the object are implemented similarly to records with setters and getters for the corresponding field.</p>
<p><cite>Methods</cite>:
Not yet implemented.</p>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="objects_accessing.html">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-title">Previous Page</p>
      </div>
    </a>
    <a class="right-next"
       href="parameter_bindings.html">
      <div class="prev-next-info">
        <p class="prev-next-title">Next Page</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#declaring"><strong>Declaring</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#in-package"><strong>In package</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#records"><strong>Records</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collections"><strong>Collections</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objects"><strong>Objects</strong></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner"></div>
          </footer>
        
      </main>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
  <script src="../../_static/js/custom.js"></script>
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><p class="version">
 Latest version V1.2.0
</p></div>
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023 Liberatii. All rights reserved.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><!--
<a class="policy-links desktop" href="#">
  Security
</a>

<a class="policy-links mobile" href="#">
  Security
</a>

<span class="mx-1 divider">|</span>

<a class="policy-links desktop" href="#">
  Privacy & Cookies Policy
</a>

<a class="policy-links mobile" href="#">
  Cookies
</a>

<span class="mx-1 divider">|</span>

<a class="policy-links desktop" href="#">
  Terms of Service
</a>

<a class="policy-links mobile" href="#">
  ToS
</a>

<span class="mx-1 divider">|</span>

<a class="social-media me-1" href="#">
  <i class="fa-brands fa-linkedin-in"></i>
</a>

<a class="social-media" href="#">
  <i class="fa-brands fa-twitter"></i>
</a>
--></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>